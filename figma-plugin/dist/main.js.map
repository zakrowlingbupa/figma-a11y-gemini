{
  "version": 3,
  "sources": ["../src/extract.ts", "../src/contrast.ts", "../src/rules.ts", "../src/prompt.ts", "../src/gemini.ts", "../src/main.ts"],
  "sourcesContent": ["export type ExtractedNode = {\n  id: string;\n  name: string;\n  type: SceneNode['type'];\n  width?: number;\n  height?: number;\n  text?: string;\n  fontSize?: number;\n  fontFamily?: string;\n  bold?: boolean;\n  fg?: [number, number, number] | null;\n  bg?: [number, number, number] | null;\n  role?: 'button' | 'link' | 'heading' | 'label' | 'input' | 'image' | 'other';\n  parent?: string;\n  children?: string[];\n};\n\ntype RGB = { r: number; g: number; b: number };\n\nfunction to255(c: number) { return Math.round(c * 255); }\nfunction solidColor(node: SceneNode): [number, number, number] | null {\n  if ('fills' in node && node.fills && Array.isArray(node.fills) && node.fills.length > 0) {\n    const fill = (node.fills as readonly Paint[]).find(f => (f as SolidPaint).type === 'SOLID') as SolidPaint | undefined;\n    if (fill && fill.color) {\n      const c = fill.color as RGB;\n      return [to255(c.r), to255(c.g), to255(c.b)];\n    }\n  }\n  return null;\n}\n\nfunction guessRole(node: SceneNode): ExtractedNode['role'] {\n  const nm = (node.name || '').toLowerCase();\n  if (nm.includes('button') || nm.includes('btn')) return 'button';\n  if (nm.includes('link')) return 'link';\n  if (nm.startsWith('h1') || nm.startsWith('h2') || nm.startsWith('h3') || nm.includes('heading')) return 'heading';\n  if (nm.includes('label')) return 'label';\n  if (nm.includes('input') || nm.includes('field') || nm.includes('textbox')) return 'input';\n  if (nm.includes('image') || node.type === 'RECTANGLE' || node.type === 'ELLIPSE' || node.type === 'VECTOR') return 'image';\n  return 'other';\n}\n\nexport function extractContext(nodes: SceneNode[]): ExtractedNode[] {\n  const results: ExtractedNode[] = [];\n\n  const visit = (node: SceneNode) => {\n    const obj: ExtractedNode = {\n      id: node.id,\n      name: node.name,\n      type: node.type,\n      parent: node.parent?.id,\n      children: 'children' in node ? (node.children as SceneNode[]).map(n => n.id) : undefined,\n    };\n\n    if ('width' in node && 'height' in node) {\n      obj.width = node.width; obj.height = node.height;\n    }\n\n    if (node.type === 'TEXT') {\n      obj.text = (node.characters || '').slice(0, 200);\n      try {\n        const fontName = node.fontName as FontName;\n        obj.fontFamily = (fontName as any)?.family || '';\n        obj.fontSize = typeof node.fontSize === 'number' ? node.fontSize : undefined;\n        const style = (fontName as any)?.style || '';\n        obj.bold = typeof style === 'string' ? style.toLowerCase().includes('bold') : false;\n      } catch {}\n      obj.fg = solidColor(node);\n      obj.bg = node.parent && 'fills' in node.parent ? solidColor(node.parent as SceneNode) : [255, 255, 255];\n    } else {\n      obj.fg = solidColor(node);\n      obj.bg = node.parent && 'fills' in node.parent ? solidColor(node.parent as SceneNode) : [255, 255, 255];\n    }\n\n    obj.role = guessRole(node);\n    results.push(obj);\n\n    if ('children' in node) {\n      for (const child of node.children as SceneNode[]) visit(child);\n    }\n  };\n\n  for (const n of nodes) visit(n);\n  return results;\n}\n", "// Utility for luminance and contrast ratio\nfunction srgbToLinear(c: number): number {\n  c = c / 255;\n  return c <= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n}\n\nexport function relativeLuminance([r, g, b]: [number, number, number]): number {\n  const R = srgbToLinear(r);\n  const G = srgbToLinear(g);\n  const B = srgbToLinear(b);\n  return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n}\n\nexport function contrastRatio(fg: [number, number, number], bg: [number, number, number]): number {\n  const L1 = relativeLuminance(fg);\n  const L2 = relativeLuminance(bg);\n  const lighter = Math.max(L1, L2);\n  const darker = Math.min(L1, L2);\n  return (lighter + 0.05) / (darker + 0.05);\n}\n\nexport function isLargeText(fontSize: number | undefined, fontStyle: string | number | undefined): boolean {\n  if (!fontSize) return false;\n  const bold = typeof fontStyle === 'number' ? fontStyle >= 700 : (String(fontStyle || '').toLowerCase().includes('bold'));\n  return fontSize >= 24 || (bold && fontSize >= 19);\n}\n", "import { contrastRatio, isLargeText } from './contrast';\n\nexport type Issue = {\n  id: string;\n  nodeName: string;\n  severity: 'error' | 'warning' | 'info';\n  guideline: string;\n  summary: string;\n  details?: string;\n  suggestion?: string;\n};\n\ntype RGB = { r: number; g: number; b: number };\n\nfunction to255(c: number) { return Math.round(c * 255); }\n\nfunction solidColor(node: SceneNode): [number, number, number] | null {\n  if ('fills' in node && node.fills && Array.isArray(node.fills) && node.fills.length > 0) {\n    const fill = (node.fills as readonly Paint[]).find(f => (f as SolidPaint).type === 'SOLID') as SolidPaint | undefined;\n    if (fill && fill.color) {\n      const c = fill.color as RGB;\n      return [to255(c.r), to255(c.g), to255(c.b)];\n    }\n  }\n  return null;\n}\n\nfunction nodeBackgroundApprox(node: SceneNode): [number, number, number] | null {\n  let p = node.parent;\n  while (p) {\n    if ('fills' in p && p.fills && Array.isArray(p.fills)) {\n      const solid = (p.fills as readonly Paint[]).find(f => (f as SolidPaint).type === 'SOLID') as SolidPaint | undefined;\n      if (solid && solid.color) {\n        const c = solid.color as RGB;\n        return [to255(c.r), to255(c.g), to255(c.b)];\n      }\n    }\n    p = p.parent;\n  }\n  return [255, 255, 255];\n}\n\nexport function checkContrast(node: SceneNode): Issue[] {\n  const issues: Issue[] = [];\n  if (node.type !== 'TEXT') return issues;\n\n  const fg = solidColor(node);\n  const bg = nodeBackgroundApprox(node);\n  if (!fg || !bg) return issues;\n\n  const ratio = contrastRatio(fg, bg);\n\n  let fontSize: number | undefined;\n  try { fontSize = typeof node.fontSize === 'number' ? node.fontSize : undefined; } catch { fontSize = undefined; }\n  let style: string | number | undefined;\n  try { style = (node.fontName as FontName)?.style; } catch { style = undefined; }\n\n  const large = isLargeText(fontSize, style);\n  const threshold = large ? 3.0 : 4.5;\n\n  if (ratio < threshold) {\n    issues.push({\n      id: node.id,\n      nodeName: node.name,\n      severity: 'error',\n      guideline: large ? 'WCAG 1.4.3 Contrast (Minimum) \u2014 Large Text \u2265 3:1' : 'WCAG 1.4.3 Contrast (Minimum) \u2014 Body Text \u2265 4.5:1',\n      summary: `Low contrast: ${ratio.toFixed(2)}:1 (needs \u2265 ${threshold}:1)`,\n      suggestion: 'Increase foreground contrast or adjust background color. Consider brand token variants with sufficient contrast.'\n    });\n  }\n  return issues;\n}\n\nexport function checkTouchTarget(node: SceneNode): Issue[] {\n  const issues: Issue[] = [];\n  const name = (node.name || '').toLowerCase();\n  const isLikelyInteractive = name.includes('button') || name.includes('btn') || name.includes('link') || node.type === 'COMPONENT' || node.type === 'INSTANCE';\n\n  if (!isLikelyInteractive || !('width' in node) || !('height' in node)) return issues;\n\n  const min = 24;\n  if (node.width < min || node.height < min) {\n    issues.push({\n      id: node.id,\n      nodeName: node.name,\n      severity: 'warning',\n      guideline: 'WCAG 2.5.8 Target Size (Minimum) / Design BP \u2265 24\u00D724px',\n      summary: `Small touch target (${Math.round(node.width)}\u00D7${Math.round(node.height)}px).`,\n      suggestion: 'Increase target size to at least 24\u00D724px and ensure 8\u201316px spacing to adjacent targets.'\n    });\n  }\n  return issues;\n}\n\nexport function checkLinks(node: SceneNode): Issue[] {\n  const issues: Issue[] = [];\n  if (node.type !== 'TEXT') return issues;\n\n  const name = (node.name || '').toLowerCase();\n  const textStr = node.characters || '';\n  const looksLikeLink = name.includes('link') || /\\bhttps?:\\/\\/|^www\\./i.test(textStr);\n\n  if (looksLikeLink) {\n    issues.push({\n      id: node.id,\n      nodeName: node.name,\n      severity: 'info',\n      guideline: 'WCAG 1.4.1 Use of Color / Design note: Links underlined in body text',\n      summary: 'Link styling should not rely on color alone.',\n      suggestion: \"Ensure underline or an alternative highly perceivable cue (e.g., '>' in apps) for links in body copy.\"\n    });\n  }\n  return issues;\n}\n\nexport function checkHeadingHierarchy(node: SceneNode): Issue[] {\n  const issues: Issue[] = [];\n  if (node.type !== 'TEXT') return issues;\n  const nm = (node.name || '').toLowerCase();\n  const isHeading = nm.startsWith('h1') || nm.startsWith('h2') || nm.startsWith('h3') || nm.includes('heading');\n  if (isHeading) {\n    issues.push({\n      id: node.id,\n      nodeName: node.name,\n      severity: 'info',\n      guideline: 'WCAG 2.4.6 Headings and Labels / Maintain hierarchy + proximity',\n      summary: 'Confirm heading level and proximity reflect hierarchy.',\n      suggestion: 'Ensure heading level matches its role (H1/H2/H3), placed closer to related content than prior block.'\n    });\n  }\n  return issues;\n}\n\nexport function runDeterministicChecks(node: SceneNode): Issue[] {\n  return [\n    ...checkContrast(node),\n    ...checkTouchTarget(node),\n    ...checkLinks(node),\n    ...checkHeadingHierarchy(node),\n  ];\n}\n", "import type { Issue } from './rules';\n\nexport function buildPrompt(\n  extracted: any[],\n  deterministicIssues: Issue[],\n  options: { pageName: string }\n) {\n  const houseRules = `\nYou are an accessibility expert reviewing a Figma design for WCAG 2.x and the following design standards. Provide precise, practical annotations with suggested fixes.\n\nKEY HOUSE RULES (design system):\n- Contrast: body text \u2265 4.5:1, large text \u2265 3:1. Non-text UI (borders, focus indicators) \u2265 3:1.\n- Links in body text must not rely on color alone; underline (HTML) or perceivable alternative in apps (e.g., '>').\n- Base body text \u2265 16px (14px minimum for small text). Use plain fonts with distinguishable glyphs (e.g., Il1!).\n- Line length \u2264 80 characters. Left-align text. Line spacing \u2265 1.5\u00D7, paragraph spacing \u2265 1.5\u00D7 line spacing.\n- Headings reflect hierarchy visually and semantically. Proximity to related content, not preceding blocks.\n- Buttons used for actions; links for navigation. Buttons have descriptive text. Touch targets \u2265 24\u00D724px with 8\u201316px spacing.\n- Focus/hover/active states must be visible and not color-only. Provide keyboard access and pointer alternatives.\n- Tables: clear headers, captions, simple structure (no merged cells) where possible.\n- Carousels: no auto-play; controls with item count.\n- Forms: visible labels near inputs, required/optional clearly indicated; helpful error messages; multi-step indicators when applicable.\n\nMap guidance to WCAG 2.x SCs (e.g., 1.4.3, 1.4.11, 2.4.6, 2.5.8, 3.3.x, 3.2.4).\n\nReturn JSON ONLY matching this schema:\n{\n  \"annotations\": [\n    {\n      \"nodeId\": \"string\",\n      \"severity\": \"error\" | \"warning\" | \"info\",\n      \"guideline\": \"string\",\n      \"message\": \"string\",\n      \"suggestion\": \"string\",\n      \"evidence\": { \"snippet\"?: \"string\", \"ratio\"?: \"number\", \"examples\"?: \"string[]\" }\n    }\n  ],\n  \"summary\": \"string\",\n  \"notices\": \"string[]\"\n}\n\nBe concise but specific. Prioritize high-severity issues. Avoid duplicates of deterministic checks unless adding contextual nuance.`;\n\n  return [\n    {\n      role: 'user',\n      parts: [\n        { text: `Page: ${options.pageName}` },\n        { text: houseRules },\n        { text: 'DETERMINISTIC_ISSUES:' },\n        { text: JSON.stringify(deterministicIssues).slice(0, 8000) },\n        { text: 'EXTRACTED_CONTEXT (truncated):' },\n        { text: JSON.stringify(extracted).slice(0, 8000) }\n      ]\n    }\n  ];\n}\n", "export async function askGemini(messages: any[], opts?: { proxyUrl?: string; model?: string }) {\n  const proxyUrl = opts?.proxyUrl || 'https://your-deployment.vercel.app/api/gemini';\n  const resp = await fetch(proxyUrl, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ messages, model: opts?.model || 'gemini-1.5-pro-latest' })\n  });\n  if (!resp.ok) throw new Error(`Proxy error: ${resp.status}`);\n  const { text } = await resp.json();\n  try {\n    return JSON.parse(text);\n  } catch {\n    const match = text.match(/\\{[\\s\\S]*\\}$/);\n    if (match) return JSON.parse(match[0]);\n    throw new Error('Model did not return valid JSON');\n  }\n}\n", "import { extractContext } from './extract';\nimport { runDeterministicChecks, type Issue } from './rules';\nimport { buildPrompt } from './prompt';\nimport { askGemini } from './gemini';\n\nfigma.showUI(__html__, { width: 420, height: 560 });\n\ntype Annotation = {\n  nodeId: string;\n  severity: 'error' | 'warning' | 'info';\n  guideline: string;\n  message: string;\n  suggestion?: string;\n  evidence?: { snippet?: string; ratio?: number; examples?: string[] };\n};\n\nfunction collectScopeNodes(): SceneNode[] {\n  if (figma.currentPage.selection.length) {\n    return figma.currentPage.selection as SceneNode[];\n  }\n  return figma.currentPage.children as SceneNode[];\n}\n\nfunction collectAllDescendants(nodes: SceneNode[]): SceneNode[] {\n  const out: SceneNode[] = [];\n  const visit = (n: SceneNode) => {\n    out.push(n);\n    if ('children' in n) (n.children as SceneNode[]).forEach(visit);\n  };\n  nodes.forEach(visit);\n  return out;\n}\n\nfigma.ui.onmessage = async (msg) => {\n  try {\n    if (msg.type === 'scan') {\n      const scopeNodes = collectScopeNodes();\n      const all = collectAllDescendants(scopeNodes);\n\n      const extracted = extractContext(scopeNodes);\n\n      const detIssues: Issue[] = [];\n      for (const n of all) detIssues.push(...runDeterministicChecks(n));\n\n      const prompt = buildPrompt(extracted, detIssues, { pageName: figma.currentPage.name });\n      const result = await askGemini(prompt, { proxyUrl: msg.proxyUrl });\n\n      figma.ui.postMessage({ type: 'scan-result', extractedCount: extracted.length, detIssues, model: result });\n    }\n\n    if (msg.type === 'annotate') {\n      const { annotations } = msg.payload || {} as { annotations: Annotation[] };\n      if (!annotations) return;\n\n      // Ensure font before creating text nodes\n      try { await figma.loadFontAsync({ family: 'Inter', style: 'Regular' }); } catch {}\n\n      for (const ann of annotations) {\n        const node = figma.getNodeById(ann.nodeId) as SceneNode | null;\n        if (!node) continue;\n\n        // Persist structured data on node\n        try { node.setPluginData('a11yAnnotation', JSON.stringify(ann)); } catch {}\n\n        // Compute absolute position\n        let absX = 0, absY = 0, width = 0;\n        try {\n          const m = (node as any).absoluteTransform as Transform;\n          absX = m[0][2];\n          absY = m[1][2];\n          width = 'width' in node ? (node as any).width : 0;\n        } catch {}\n\n        const frame = figma.createFrame();\n        frame.name = `A11y: ${ann.severity.toUpperCase()} \u2014 ${ann.guideline}`;\n        frame.resize(340, 120);\n        frame.x = absX + width + 24;\n        frame.y = absY;\n        frame.fills = [{ type: 'SOLID', color: { r: 1, g: 0.95, b: 0.8 } }];\n        frame.strokes = [{ type: 'SOLID', color: { r: 0.9, g: 0.7, b: 0.2 } }];\n        frame.strokeWeight = 1;\n        frame.layoutMode = 'VERTICAL';\n        frame.counterAxisSizingMode = 'AUTO';\n        frame.primaryAxisSizingMode = 'AUTO';\n        frame.paddingLeft = frame.paddingRight = frame.paddingTop = frame.paddingBottom = 12;\n        frame.itemSpacing = 8;\n\n        const title = figma.createText();\n        title.fontName = { family: 'Inter', style: 'Regular' };\n        title.fontSize = 12;\n        title.characters = `${ann.message}`;\n\n        const suggestion = figma.createText();\n        suggestion.fontName = { family: 'Inter', style: 'Regular' };\n        suggestion.fontSize = 11;\n        suggestion.characters = `Suggestion: ${ann.suggestion || '\u2014'}`;\n\n        frame.appendChild(title);\n        frame.appendChild(suggestion);\n\n        figma.currentPage.appendChild(frame);\n      }\n\n      figma.ui.postMessage({ type: 'annotate-complete', count: annotations.length });\n    }\n\n    if (msg.type === 'clear-annotations') {\n      const nodesWithData = figma.currentPage.findAll(n => !!n.getPluginData('a11yAnnotation'));\n      for (const n of nodesWithData) n.setPluginData('a11yAnnotation', '');\n\n      const callouts = figma.currentPage.findAll(n => n.name.startsWith('A11y: '));\n      for (const c of callouts) c.remove();\n      figma.ui.postMessage({ type: 'cleared' });\n    }\n  } catch (err: any) {\n    figma.ui.postMessage({ type: 'error', message: err?.message || String(err) });\n  }\n};\n"],
  "mappings": ";;;AAmBA,WAAS,MAAM,GAAW;AAAE,WAAO,KAAK,MAAM,IAAI,GAAG;AAAA,EAAG;AACxD,WAAS,WAAW,MAAkD;AACpE,QAAI,WAAW,QAAQ,KAAK,SAAS,MAAM,QAAQ,KAAK,KAAK,KAAK,KAAK,MAAM,SAAS,GAAG;AACvF,YAAM,OAAQ,KAAK,MAA2B,KAAK,OAAM,EAAiB,SAAS,OAAO;AAC1F,UAAI,QAAQ,KAAK,OAAO;AACtB,cAAM,IAAI,KAAK;AACf,eAAO,CAAC,MAAM,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,CAAC;AAAA,MAC5C;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAEA,WAAS,UAAU,MAAwC;AACzD,UAAM,MAAM,KAAK,QAAQ,IAAI,YAAY;AACzC,QAAI,GAAG,SAAS,QAAQ,KAAK,GAAG,SAAS,KAAK;AAAG,aAAO;AACxD,QAAI,GAAG,SAAS,MAAM;AAAG,aAAO;AAChC,QAAI,GAAG,WAAW,IAAI,KAAK,GAAG,WAAW,IAAI,KAAK,GAAG,WAAW,IAAI,KAAK,GAAG,SAAS,SAAS;AAAG,aAAO;AACxG,QAAI,GAAG,SAAS,OAAO;AAAG,aAAO;AACjC,QAAI,GAAG,SAAS,OAAO,KAAK,GAAG,SAAS,OAAO,KAAK,GAAG,SAAS,SAAS;AAAG,aAAO;AACnF,QAAI,GAAG,SAAS,OAAO,KAAK,KAAK,SAAS,eAAe,KAAK,SAAS,aAAa,KAAK,SAAS;AAAU,aAAO;AACnH,WAAO;AAAA,EACT;AAEO,WAAS,eAAe,OAAqC;AAClE,UAAM,UAA2B,CAAC;AAElC,UAAM,QAAQ,CAAC,SAAoB;AACjC,YAAM,MAAqB;AAAA,QACzB,IAAI,KAAK;AAAA,QACT,MAAM,KAAK;AAAA,QACX,MAAM,KAAK;AAAA,QACX,QAAQ,KAAK,QAAQ;AAAA,QACrB,UAAU,cAAc,OAAQ,KAAK,SAAyB,IAAI,OAAK,EAAE,EAAE,IAAI;AAAA,MACjF;AAEA,UAAI,WAAW,QAAQ,YAAY,MAAM;AACvC,YAAI,QAAQ,KAAK;AAAO,YAAI,SAAS,KAAK;AAAA,MAC5C;AAEA,UAAI,KAAK,SAAS,QAAQ;AACxB,YAAI,QAAQ,KAAK,cAAc,IAAI,MAAM,GAAG,GAAG;AAC/C,YAAI;AACF,gBAAM,WAAW,KAAK;AACtB,cAAI,aAAc,UAAkB,UAAU;AAC9C,cAAI,WAAW,OAAO,KAAK,aAAa,WAAW,KAAK,WAAW;AACnE,gBAAM,QAAS,UAAkB,SAAS;AAC1C,cAAI,OAAO,OAAO,UAAU,WAAW,MAAM,YAAY,EAAE,SAAS,MAAM,IAAI;AAAA,QAChF,QAAQ;AAAA,QAAC;AACT,YAAI,KAAK,WAAW,IAAI;AACxB,YAAI,KAAK,KAAK,UAAU,WAAW,KAAK,SAAS,WAAW,KAAK,MAAmB,IAAI,CAAC,KAAK,KAAK,GAAG;AAAA,MACxG,OAAO;AACL,YAAI,KAAK,WAAW,IAAI;AACxB,YAAI,KAAK,KAAK,UAAU,WAAW,KAAK,SAAS,WAAW,KAAK,MAAmB,IAAI,CAAC,KAAK,KAAK,GAAG;AAAA,MACxG;AAEA,UAAI,OAAO,UAAU,IAAI;AACzB,cAAQ,KAAK,GAAG;AAEhB,UAAI,cAAc,MAAM;AACtB,mBAAW,SAAS,KAAK;AAAyB,gBAAM,KAAK;AAAA,MAC/D;AAAA,IACF;AAEA,eAAW,KAAK;AAAO,YAAM,CAAC;AAC9B,WAAO;AAAA,EACT;;;ACnFA,WAAS,aAAa,GAAmB;AACvC,QAAI,IAAI;AACR,WAAO,KAAK,UAAU,IAAI,QAAQ,KAAK,KAAK,IAAI,SAAS,OAAO,GAAG;AAAA,EACrE;AAEO,WAAS,kBAAkB,CAAC,GAAG,GAAG,CAAC,GAAqC;AAC7E,UAAM,IAAI,aAAa,CAAC;AACxB,UAAM,IAAI,aAAa,CAAC;AACxB,UAAM,IAAI,aAAa,CAAC;AACxB,WAAO,SAAS,IAAI,SAAS,IAAI,SAAS;AAAA,EAC5C;AAEO,WAAS,cAAc,IAA8B,IAAsC;AAChG,UAAM,KAAK,kBAAkB,EAAE;AAC/B,UAAM,KAAK,kBAAkB,EAAE;AAC/B,UAAM,UAAU,KAAK,IAAI,IAAI,EAAE;AAC/B,UAAM,SAAS,KAAK,IAAI,IAAI,EAAE;AAC9B,YAAQ,UAAU,SAAS,SAAS;AAAA,EACtC;AAEO,WAAS,YAAY,UAA8B,WAAiD;AACzG,QAAI,CAAC;AAAU,aAAO;AACtB,UAAM,OAAO,OAAO,cAAc,WAAW,aAAa,MAAO,OAAO,aAAa,EAAE,EAAE,YAAY,EAAE,SAAS,MAAM;AACtH,WAAO,YAAY,MAAO,QAAQ,YAAY;AAAA,EAChD;;;ACXA,WAASA,OAAM,GAAW;AAAE,WAAO,KAAK,MAAM,IAAI,GAAG;AAAA,EAAG;AAExD,WAASC,YAAW,MAAkD;AACpE,QAAI,WAAW,QAAQ,KAAK,SAAS,MAAM,QAAQ,KAAK,KAAK,KAAK,KAAK,MAAM,SAAS,GAAG;AACvF,YAAM,OAAQ,KAAK,MAA2B,KAAK,OAAM,EAAiB,SAAS,OAAO;AAC1F,UAAI,QAAQ,KAAK,OAAO;AACtB,cAAM,IAAI,KAAK;AACf,eAAO,CAACD,OAAM,EAAE,CAAC,GAAGA,OAAM,EAAE,CAAC,GAAGA,OAAM,EAAE,CAAC,CAAC;AAAA,MAC5C;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAEA,WAAS,qBAAqB,MAAkD;AAC9E,QAAI,IAAI,KAAK;AACb,WAAO,GAAG;AACR,UAAI,WAAW,KAAK,EAAE,SAAS,MAAM,QAAQ,EAAE,KAAK,GAAG;AACrD,cAAM,QAAS,EAAE,MAA2B,KAAK,OAAM,EAAiB,SAAS,OAAO;AACxF,YAAI,SAAS,MAAM,OAAO;AACxB,gBAAM,IAAI,MAAM;AAChB,iBAAO,CAACA,OAAM,EAAE,CAAC,GAAGA,OAAM,EAAE,CAAC,GAAGA,OAAM,EAAE,CAAC,CAAC;AAAA,QAC5C;AAAA,MACF;AACA,UAAI,EAAE;AAAA,IACR;AACA,WAAO,CAAC,KAAK,KAAK,GAAG;AAAA,EACvB;AAEO,WAAS,cAAc,MAA0B;AACtD,UAAM,SAAkB,CAAC;AACzB,QAAI,KAAK,SAAS;AAAQ,aAAO;AAEjC,UAAM,KAAKC,YAAW,IAAI;AAC1B,UAAM,KAAK,qBAAqB,IAAI;AACpC,QAAI,CAAC,MAAM,CAAC;AAAI,aAAO;AAEvB,UAAM,QAAQ,cAAc,IAAI,EAAE;AAElC,QAAI;AACJ,QAAI;AAAE,iBAAW,OAAO,KAAK,aAAa,WAAW,KAAK,WAAW;AAAA,IAAW,QAAQ;AAAE,iBAAW;AAAA,IAAW;AAChH,QAAI;AACJ,QAAI;AAAE,cAAS,KAAK,UAAuB;AAAA,IAAO,QAAQ;AAAE,cAAQ;AAAA,IAAW;AAE/E,UAAM,QAAQ,YAAY,UAAU,KAAK;AACzC,UAAM,YAAY,QAAQ,IAAM;AAEhC,QAAI,QAAQ,WAAW;AACrB,aAAO,KAAK;AAAA,QACV,IAAI,KAAK;AAAA,QACT,UAAU,KAAK;AAAA,QACf,UAAU;AAAA,QACV,WAAW,QAAQ,+DAAqD;AAAA,QACxE,SAAS,iBAAiB,MAAM,QAAQ,CAAC,CAAC,oBAAe,SAAS;AAAA,QAClE,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AACA,WAAO;AAAA,EACT;AAEO,WAAS,iBAAiB,MAA0B;AACzD,UAAM,SAAkB,CAAC;AACzB,UAAM,QAAQ,KAAK,QAAQ,IAAI,YAAY;AAC3C,UAAM,sBAAsB,KAAK,SAAS,QAAQ,KAAK,KAAK,SAAS,KAAK,KAAK,KAAK,SAAS,MAAM,KAAK,KAAK,SAAS,eAAe,KAAK,SAAS;AAEnJ,QAAI,CAAC,uBAAuB,EAAE,WAAW,SAAS,EAAE,YAAY;AAAO,aAAO;AAE9E,UAAM,MAAM;AACZ,QAAI,KAAK,QAAQ,OAAO,KAAK,SAAS,KAAK;AACzC,aAAO,KAAK;AAAA,QACV,IAAI,KAAK;AAAA,QACT,UAAU,KAAK;AAAA,QACf,UAAU;AAAA,QACV,WAAW;AAAA,QACX,SAAS,uBAAuB,KAAK,MAAM,KAAK,KAAK,CAAC,OAAI,KAAK,MAAM,KAAK,MAAM,CAAC;AAAA,QACjF,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AACA,WAAO;AAAA,EACT;AAEO,WAAS,WAAW,MAA0B;AACnD,UAAM,SAAkB,CAAC;AACzB,QAAI,KAAK,SAAS;AAAQ,aAAO;AAEjC,UAAM,QAAQ,KAAK,QAAQ,IAAI,YAAY;AAC3C,UAAM,UAAU,KAAK,cAAc;AACnC,UAAM,gBAAgB,KAAK,SAAS,MAAM,KAAK,wBAAwB,KAAK,OAAO;AAEnF,QAAI,eAAe;AACjB,aAAO,KAAK;AAAA,QACV,IAAI,KAAK;AAAA,QACT,UAAU,KAAK;AAAA,QACf,UAAU;AAAA,QACV,WAAW;AAAA,QACX,SAAS;AAAA,QACT,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AACA,WAAO;AAAA,EACT;AAEO,WAAS,sBAAsB,MAA0B;AAC9D,UAAM,SAAkB,CAAC;AACzB,QAAI,KAAK,SAAS;AAAQ,aAAO;AACjC,UAAM,MAAM,KAAK,QAAQ,IAAI,YAAY;AACzC,UAAM,YAAY,GAAG,WAAW,IAAI,KAAK,GAAG,WAAW,IAAI,KAAK,GAAG,WAAW,IAAI,KAAK,GAAG,SAAS,SAAS;AAC5G,QAAI,WAAW;AACb,aAAO,KAAK;AAAA,QACV,IAAI,KAAK;AAAA,QACT,UAAU,KAAK;AAAA,QACf,UAAU;AAAA,QACV,WAAW;AAAA,QACX,SAAS;AAAA,QACT,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AACA,WAAO;AAAA,EACT;AAEO,WAAS,uBAAuB,MAA0B;AAC/D,WAAO;AAAA,MACL,GAAG,cAAc,IAAI;AAAA,MACrB,GAAG,iBAAiB,IAAI;AAAA,MACxB,GAAG,WAAW,IAAI;AAAA,MAClB,GAAG,sBAAsB,IAAI;AAAA,IAC/B;AAAA,EACF;;;AC1IO,WAAS,YACd,WACA,qBACA,SACA;AACA,UAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCnB,WAAO;AAAA,MACL;AAAA,QACE,MAAM;AAAA,QACN,OAAO;AAAA,UACL,EAAE,MAAM,SAAS,QAAQ,QAAQ,GAAG;AAAA,UACpC,EAAE,MAAM,WAAW;AAAA,UACnB,EAAE,MAAM,wBAAwB;AAAA,UAChC,EAAE,MAAM,KAAK,UAAU,mBAAmB,EAAE,MAAM,GAAG,GAAI,EAAE;AAAA,UAC3D,EAAE,MAAM,iCAAiC;AAAA,UACzC,EAAE,MAAM,KAAK,UAAU,SAAS,EAAE,MAAM,GAAG,GAAI,EAAE;AAAA,QACnD;AAAA,MACF;AAAA,IACF;AAAA,EACF;;;ACvDA,iBAAsB,UAAU,UAAiB,MAA8C;AAC7F,UAAM,WAAW,MAAM,YAAY;AACnC,UAAM,OAAO,MAAM,MAAM,UAAU;AAAA,MACjC,QAAQ;AAAA,MACR,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,EAAE,UAAU,OAAO,MAAM,SAAS,wBAAwB,CAAC;AAAA,IAClF,CAAC;AACD,QAAI,CAAC,KAAK;AAAI,YAAM,IAAI,MAAM,gBAAgB,KAAK,MAAM,EAAE;AAC3D,UAAM,EAAE,KAAK,IAAI,MAAM,KAAK,KAAK;AACjC,QAAI;AACF,aAAO,KAAK,MAAM,IAAI;AAAA,IACxB,QAAQ;AACN,YAAM,QAAQ,KAAK,MAAM,cAAc;AACvC,UAAI;AAAO,eAAO,KAAK,MAAM,MAAM,CAAC,CAAC;AACrC,YAAM,IAAI,MAAM,iCAAiC;AAAA,IACnD;AAAA,EACF;;;ACXA,QAAM,OAAO,UAAU,EAAE,OAAO,KAAK,QAAQ,IAAI,CAAC;AAWlD,WAAS,oBAAiC;AACxC,QAAI,MAAM,YAAY,UAAU,QAAQ;AACtC,aAAO,MAAM,YAAY;AAAA,IAC3B;AACA,WAAO,MAAM,YAAY;AAAA,EAC3B;AAEA,WAAS,sBAAsB,OAAiC;AAC9D,UAAM,MAAmB,CAAC;AAC1B,UAAM,QAAQ,CAAC,MAAiB;AAC9B,UAAI,KAAK,CAAC;AACV,UAAI,cAAc;AAAG,QAAC,EAAE,SAAyB,QAAQ,KAAK;AAAA,IAChE;AACA,UAAM,QAAQ,KAAK;AACnB,WAAO;AAAA,EACT;AAEA,QAAM,GAAG,YAAY,OAAO,QAAQ;AAClC,QAAI;AACF,UAAI,IAAI,SAAS,QAAQ;AACvB,cAAM,aAAa,kBAAkB;AACrC,cAAM,MAAM,sBAAsB,UAAU;AAE5C,cAAM,YAAY,eAAe,UAAU;AAE3C,cAAM,YAAqB,CAAC;AAC5B,mBAAW,KAAK;AAAK,oBAAU,KAAK,GAAG,uBAAuB,CAAC,CAAC;AAEhE,cAAM,SAAS,YAAY,WAAW,WAAW,EAAE,UAAU,MAAM,YAAY,KAAK,CAAC;AACrF,cAAM,SAAS,MAAM,UAAU,QAAQ,EAAE,UAAU,IAAI,SAAS,CAAC;AAEjE,cAAM,GAAG,YAAY,EAAE,MAAM,eAAe,gBAAgB,UAAU,QAAQ,WAAW,OAAO,OAAO,CAAC;AAAA,MAC1G;AAEA,UAAI,IAAI,SAAS,YAAY;AAC3B,cAAM,EAAE,YAAY,IAAI,IAAI,WAAW,CAAC;AACxC,YAAI,CAAC;AAAa;AAGlB,YAAI;AAAE,gBAAM,MAAM,cAAc,EAAE,QAAQ,SAAS,OAAO,UAAU,CAAC;AAAA,QAAG,QAAQ;AAAA,QAAC;AAEjF,mBAAW,OAAO,aAAa;AAC7B,gBAAM,OAAO,MAAM,YAAY,IAAI,MAAM;AACzC,cAAI,CAAC;AAAM;AAGX,cAAI;AAAE,iBAAK,cAAc,kBAAkB,KAAK,UAAU,GAAG,CAAC;AAAA,UAAG,QAAQ;AAAA,UAAC;AAG1E,cAAI,OAAO,GAAG,OAAO,GAAG,QAAQ;AAChC,cAAI;AACF,kBAAM,IAAK,KAAa;AACxB,mBAAO,EAAE,CAAC,EAAE,CAAC;AACb,mBAAO,EAAE,CAAC,EAAE,CAAC;AACb,oBAAQ,WAAW,OAAQ,KAAa,QAAQ;AAAA,UAClD,QAAQ;AAAA,UAAC;AAET,gBAAM,QAAQ,MAAM,YAAY;AAChC,gBAAM,OAAO,SAAS,IAAI,SAAS,YAAY,CAAC,WAAM,IAAI,SAAS;AACnE,gBAAM,OAAO,KAAK,GAAG;AACrB,gBAAM,IAAI,OAAO,QAAQ;AACzB,gBAAM,IAAI;AACV,gBAAM,QAAQ,CAAC,EAAE,MAAM,SAAS,OAAO,EAAE,GAAG,GAAG,GAAG,MAAM,GAAG,IAAI,EAAE,CAAC;AAClE,gBAAM,UAAU,CAAC,EAAE,MAAM,SAAS,OAAO,EAAE,GAAG,KAAK,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC;AACrE,gBAAM,eAAe;AACrB,gBAAM,aAAa;AACnB,gBAAM,wBAAwB;AAC9B,gBAAM,wBAAwB;AAC9B,gBAAM,cAAc,MAAM,eAAe,MAAM,aAAa,MAAM,gBAAgB;AAClF,gBAAM,cAAc;AAEpB,gBAAM,QAAQ,MAAM,WAAW;AAC/B,gBAAM,WAAW,EAAE,QAAQ,SAAS,OAAO,UAAU;AACrD,gBAAM,WAAW;AACjB,gBAAM,aAAa,GAAG,IAAI,OAAO;AAEjC,gBAAM,aAAa,MAAM,WAAW;AACpC,qBAAW,WAAW,EAAE,QAAQ,SAAS,OAAO,UAAU;AAC1D,qBAAW,WAAW;AACtB,qBAAW,aAAa,eAAe,IAAI,cAAc,QAAG;AAE5D,gBAAM,YAAY,KAAK;AACvB,gBAAM,YAAY,UAAU;AAE5B,gBAAM,YAAY,YAAY,KAAK;AAAA,QACrC;AAEA,cAAM,GAAG,YAAY,EAAE,MAAM,qBAAqB,OAAO,YAAY,OAAO,CAAC;AAAA,MAC/E;AAEA,UAAI,IAAI,SAAS,qBAAqB;AACpC,cAAM,gBAAgB,MAAM,YAAY,QAAQ,OAAK,CAAC,CAAC,EAAE,cAAc,gBAAgB,CAAC;AACxF,mBAAW,KAAK;AAAe,YAAE,cAAc,kBAAkB,EAAE;AAEnE,cAAM,WAAW,MAAM,YAAY,QAAQ,OAAK,EAAE,KAAK,WAAW,QAAQ,CAAC;AAC3E,mBAAW,KAAK;AAAU,YAAE,OAAO;AACnC,cAAM,GAAG,YAAY,EAAE,MAAM,UAAU,CAAC;AAAA,MAC1C;AAAA,IACF,SAAS,KAAU;AACjB,YAAM,GAAG,YAAY,EAAE,MAAM,SAAS,SAAS,KAAK,WAAW,OAAO,GAAG,EAAE,CAAC;AAAA,IAC9E;AAAA,EACF;",
  "names": ["to255", "solidColor"]
}
